<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
<refentry xmlns="http://docbook.org/ns/docbook" xml:id="function.oci-set-prefetch">
 <refnamediv>
  <refname>oci_set_prefetch</refname>
  <refpurpose>Sets number of rows to be prefetched</refpurpose>
 </refnamediv>
 
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>bool</type><methodname>oci_set_prefetch</methodname>
   <methodparam><type>resource</type><parameter>statement</parameter></methodparam>
   <methodparam><type>int</type><parameter>rows</parameter></methodparam>
  </methodsynopsis>
  <para>
   Sets the number of rows to be prefetched after a successful call to
   <function>oci_execute</function>.  For queries returning a large
   number of rows, performance can be improved by increasing the
   prefetch count above the
   default <link linkend="ini.oci8.default-prefetch">oci8_.default_prefetch</link>
   value.
  </para>
  <para>
   Prefetching is Oracle's efficient way of returning more than one
   data row from the database in each network request.  This can
   result in better network and CPU utilization.  The behavior of OCI8
   fetching functions is unchanged regardless of the prefetch count.
  </para>
  <para>
   Query prefetching was introduced in Oracle 8i.  REF CURSOR
   prefetching was introduced in Oracle 11gR2 and occurs when PHP is
   linked with Oracle 11gR2 libraries and connected to 11gR2 or
   previous versions of the database.  Nested cursor prefetching was
   introduced in Oracle 11gR2 and requires both the Oracle Client
   libraries and the database to be version 11gR2.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>statement</parameter></term>
     <listitem>
      <para>
       A valid OCI statement identifier.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>rows</parameter></term>
     <listitem>
      <para>
       The number of rows to be prefetched.
      </para>
      <para>
       From PHP 5.3.2 and PECL oci8 1.4, <parameter>rows</parameter> may be &gt;= 0. Prior versions required <parameter>rows</parameter> &gt;= 1.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   &return.success;
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <note>
   <para>
    In PHP versions before 5.0.0 you must use <function>ocisetprefetch</function> instead. &oci.name.compat.note;
   </para>
  </note>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member>
     <link linkend="ini.oci8.default-prefetch">oci8_.default_prefetch</link>
     ini option
    </member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
