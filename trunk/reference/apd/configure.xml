<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.1 $ -->
<section id="apd.installation">
 &reftitle.install;
 <para>
  Make sure you have installed the CGI version of PHP and it is available
  in your current path along with the phpize script.
 </para>
 <para>
  Change into the source directory (either created from the downloaded TAR
  archive or from checking out CVS) and run the following commands:
 </para>
 <para>
  <programlisting role="shell">
<![CDATA[
./configure
make install
]]>
  </programlisting>
 </para>
 <para>
  This automatically should install the 'php_apd' zend module into your PHP
  extensions directory. It isn't mandatory to have it there, in fact you can
  install it anywhere you care.
 </para>
 <para>
  In your INI file, add the following lines:
 </para>
 <para>
  <programlisting role="php.ini">
<![CDATA[
zend_extension = /absolute/path/to/php_apd.so
apd.dumpdir = /absolute/path/to/trace/directory
]]>
  </programlisting>
 </para>
</section>

<section id="apd.zend_extension">
 <title>php.ini zend_extension setting</title>
 <para>
  Depending on your PHP build, the zend_extension directive can be one of the
  following:
 </para>
 <para>
  <programlisting role="script">
<![CDATA[
zend_extension              (non ZTS, non debug build)
zend_extension_ts           (    ZTS, non debug build)
zend_extension_debug        (non ZTS,     debug build)
zend_extension_debug_ts     (    ZTS,     debug build)

zend_extension_debug = /absolute/path/to/php_apd.so
]]>
  </programlisting>
 </para>
</section>

<section id="apd.dumpdir">
 <title>&php.ini; apd.dumpdir setting</title>
 <para>
  This can either be an absolute path or a relative path. Relative
  means always relative to your where from you run your executeable.
 </para>
 <para>
  <programlisting role="text">
<![CDATA[
    *** NOTE ******************************************************************
    *
    * If you're running the CGI version of PHP, you will need to add the '-e'
    * flag to enable extended information for apd to work properly:
    *
    *     php -e -f script.php
    *
    ***************************************************************************
 ]]>
  </programlisting>
 </para>
</section>

<section id="apd.installwin32">
 <title>Building on Win32</title>
 <para>
  To build APD under Windows you need a working PHP compilation
  environment as described on http://php.net/ (basically, it requires
  you to have MSVC, win32build.zip and bison/flex and some know how
  about how to get it to work). Also make sure that adp.dsp has DOS
  line endings! If it has unix line endings, MSVC will complain about it.
 </para>
 <para>
  You can use normal Windows path values for your &php.ini; settings:
 </para>
 <para>
  <programlisting role="php.ini">
<![CDATA[
zend_extension_debug_ts = c:\phpdev\php_apd.dll
apd.dumpdir = c:\phpdev\traces
]]>
  </programlisting>
 </para>
</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
