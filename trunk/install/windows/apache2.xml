<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.1 $ -->
   <sect1 id="install.windows.apache2">
    <title>Apache 2.0.x on Microsoft Windows</title>
    <para>
     This section contains notes and hints specific to Apache 2.0.x installs
     of PHP on Microsoft Windows systems. We also
     have <link linkend="install.windows.apache1">instructions and notes
     for Apache 1.3.x on a separate page</link>.
    </para>
    <warning>
     <para>
      Do not use Apache 2.0.x and <literal>PHP</literal> in a production
      environment neither on Unix nor on Windows.
     </para>
    </warning>
     <para>
      You are highly encouraged to take a look at the
      <ulink url="&url.apache2.docs;">Apache Documentation</ulink> to get
      a basic understanding of the Apache 2.0.x Server.
     </para>

    <sect2 id="compat.apache2">
     <title>PHP and Apache 2.0.x compatibility notes</title>
     <para>
      The following versions of PHP are known to work with the most recent
      version of Apache 2.0.x:
      <itemizedlist spacing="compact">
       <listitem>
        <simpara>
         PHP 4.3.0 or later available at
         <ulink url="&url.php.downloads;">&url.php.downloads;</ulink>.
        </simpara>
       </listitem>
       <listitem>
        <simpara>
         the latest stable development version.
         Get the source code <ulink url="&url.php.snapshots;php4-latest.tar.gz">
         &url.php.snapshots;php4-latest.tar.gz</ulink> or download binaries
         for Windows <ulink url="&url.php.snapshots;win32/php4-win32-latest.zip">
         &url.php.snapshots;win32/php4-win32-latest.zip</ulink>.
        </simpara>
       </listitem>
       <listitem>
        <simpara>
         a prerelease version downloadable from
         <ulink url="&url.php.prerelease;">&url.php.prerelease;</ulink>.
        </simpara>
       </listitem>
       <listitem>
        <simpara>
         you have always the option to obtain <literal>PHP</literal> through
         <ulink url="&url.php.anoncvs;">anonymous CVS</ulink>.
        </simpara>
       </listitem>
      </itemizedlist>
       These versions of <literal>PHP</literal> are compatible to Apache 2.0.40 and later.
     </para>
     <note>
      <simpara>
       Apache 2.0 <literal>SAPI</literal>-support started with PHP 4.2.0.
       PHP 4.2.3 works with Apache 2.0.39, don't use any other version of Apache with
       PHP 4.2.3. However, the recommended setup is to use PHP 4.3.0 or later with
       the most recent version of Apache2.
      </simpara>
      <simpara>
       All mentioned versions of <literal>PHP</literal> will work still with
       Apache 1.3.x.
      </simpara>
     </note>
    </sect2>

   <sect2 id="install.windows.apache2">
    <title>PHP and Apache 2.0.x on Windows</title>
    <para>
     Consider to read the <ulink url="&url.apache2.windows;">
     Windows specific notes</ulink> for Apache 2.0.
    </para>
    <warning>
     <para>
      Apache 2.0 is designed to run on Windows NT 4.0, Windows 2000 or
      Windows XP. At this time, support for Windows 9x is incomplete.
      Apache 2.0 is not expected to work on those platforms at this time.
     </para>
    </warning>
    <para>
     Download the most recent version of <ulink url= "&url.apache;">
     Apache 2.0</ulink> and a fitting PHP version from the above mentioned places.
     Follow the <link linkend="install.windows.manual">Manual Installation Steps</link>
     and come back to go on with the integration of <literal>PHP</literal>
     and Apache.
    </para>
    <para>
     There are two ways to set up <literal>PHP</literal> to work with
     Apache 2.0 on Windows. One is to use the CGI binary the other is to
     use the Apache module DLL. In either case you need to stop the Apache
     server, and edit your &httpd.conf; to configure Apache
     to work with <literal>PHP</literal>.
    </para>
    <para>
     You need to insert these three lines to your Apache &httpd.conf;
     configuration file to set up the <emphasis>CGI binary</emphasis>:
     <example>
      <title>PHP and Apache 2.0 as CGI</title>
       <programlisting role="apache">
<![CDATA[
ScriptAlias /php/ "c:/php/"
AddType application/x-httpd-php .php
Action application/x-httpd-php "/php/php.exe"
]]>
       </programlisting>
     </example>
    </para>
    <para>
     If you would like to use <literal>PHP</literal> as a module in Apache 2.0,
     be sure to move <filename>php4ts.dll</filename> for PHP 4, or
     <filename>php5ts.dll</filename> for PHP 5, to
     <filename>winnt/system32</filename> (for Windows NT/2000) or
     <filename>windows/system32</filename> (for Windows XP),
     overwriting any older file. You need to insert these two lines to your
     Apache &httpd.conf; configuration file to set up the
     <emphasis>PHP-Module</emphasis> for Apache 2.0:
     <example>
      <title>PHP and Apache 2.0 as Module</title>
       <programlisting role="apache">
<![CDATA[
; For PHP 4 do something like this:
LoadModule php4_module "c:/php/sapi/php4apache2.dll"
AddType application/x-httpd-php .php

; For PHP 5 do something like this:
LoadModule php5_module "c:/php/sapi/php5apache2.dll"
AddType application/x-httpd-php .php
]]>
       </programlisting>
     </example>
    </para>
    <note>
     <simpara>
      Remember to substitute the <filename>c:/php/</filename> for your actual
      path to <literal>PHP</literal> in the above examples. Take care to use
      either <filename>php4apache2.dll</filename> or 
      <filename>php5apache2.dll</filename> in your LoadModule directive and
      <emphasis>not</emphasis><filename>php4apache.dll</filename> or 
      <filename>php5apache.dll</filename> as the latter ones are designed to
      run with <link linkend="install.windows.apache1">Apache 1.3.x</link>.
     </simpara>
    </note>
    <warning>
     <simpara>
      Don't mix up your installation with dll files from
      <emphasis>different PHP versions </emphasis>. You have the only choice
      to use the dll's and extensions that ship with your downloaded PHP version.
     </simpara>
    </warning>
   </sect2>

  </sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
